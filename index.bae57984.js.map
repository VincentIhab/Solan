{"mappings":"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","sources":["src/js/dom.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\r\n    class PageHandler {\r\n        constructor() {\r\n            this.loadingBar = document.getElementById('loading-bar');\r\n            this.spinnerContainer = document.getElementById('spinner-container');\r\n            this.videoContainer = document.getElementById('video-container');\r\n            this.backgroundVideo = document.getElementById('background-video');\r\n            this.navVideo = document.getElementById('navVideo');\r\n            this.navigationButton = document.querySelector('.navigation__button');\r\n            this.navbar = document.getElementById(\"navbar\");\r\n            this.navBtn = document.getElementById('btn-desk')\r\n            this.newParent = document.getElementById('header_container');\r\n            this.oldParent = document.getElementById('header');\r\n            this.box2 = document.querySelector('.box2');\r\n            this.scrollThreshold = 100;\r\n            this.mobileVideoSrc = 'mobile-Land-video.mp4';\r\n            this.desktopVideoSrc = 'video (2).mp4';\r\n            this.navVideoSrc = 'nav-cam.mp4';\r\n            this.currentVideo = '';\r\n            this.videoLoaded = false;\r\n            this.scrolling = false;\r\n            this.isFirstTime = true;\r\n\r\n            this.init();\r\n        }\r\n\r\n        init() {\r\n            this.startLoadingBar();\r\n            this.selectVideo();\r\n            this.navVideo.src = this.navVideoSrc;\r\n            this.navVideo.type = 'video/mp4';\r\n            window.addEventListener('resize', this.selectVideo.bind(this));\r\n            window.addEventListener('scroll', this.throttleScroll.bind(this));\r\n            this.createIntersectionObserver();\r\n            this.initIntroAnimation();\r\n            this.initFeatureBoxVideo();\r\n        }\r\n\r\n        startLoadingBar() {\r\n            let interval = setInterval(() => {\r\n                const images = document.images;\r\n                let loadedImages = 0;\r\n                for (let i = 0; i < images.length; i++) {\r\n                    if (images[i].complete) {\r\n                        loadedImages++;\r\n                    }\r\n                }\r\n                let progress = Math.floor((loadedImages / images.length) * 100);\r\n                this.loadingBar.style.width = progress + '%';\r\n                this.loadingBar.style.backgroundColor = `rgb(${255 - (progress * 2.55)}, ${255 - (progress * 2.55)}, ${255 - (progress * 2.55)})`;\r\n\r\n                if (progress === 100) {\r\n                    clearInterval(interval);\r\n                    this.loadingBar.style.width = '100%';\r\n                    this.loadingBar.style.backgroundColor = 'black';\r\n                }\r\n            }, 100);\r\n        }\r\n\r\n        selectVideo() {\r\n            const videoElement = this.backgroundVideo;\r\n            videoElement.muted = true;\r\n            videoElement.playsinline = true;\r\n\r\n            if (window.innerWidth <= 768 && this.currentVideo !== 'mobile') {\r\n                videoElement.src = this.mobileVideoSrc;\r\n                videoElement.type = 'video/mp4';\r\n                this.videoContainer.classList.remove('bg-video--desktop');\r\n                videoElement.classList.remove('bg-video--desktop__content_desk');\r\n                this.videoContainer.classList.add('bg-video--mobile');\r\n                videoElement.classList.add('bg-video--mobile__content_mobile');\r\n                videoElement.loop = false;\r\n                this.oldParent.insertBefore(this.videoContainer, this.oldParent.firstChild);\r\n                this.currentVideo = 'mobile';\r\n            } else if (window.innerWidth > 768 && this.currentVideo !== 'desktop') {\r\n                videoElement.src = this.desktopVideoSrc;\r\n                videoElement.type = 'video/mp4';\r\n                this.videoContainer.classList.remove('bg-video--mobile');\r\n                videoElement.classList.remove('bg-video--mobile__content_mobile');\r\n                this.videoContainer.classList.add('bg-video--desktop');\r\n                videoElement.classList.add('bg-video--desktop__content_desk');\r\n                this.newParent.insertBefore(this.videoContainer, this.newParent.firstChild);\r\n                this.currentVideo = 'desktop';\r\n            }\r\n\r\n            videoElement.onloadeddata = this.videoLoadSuccess.bind(this);\r\n            videoElement.onerror = this.videoLoadError.bind(this);\r\n        }\r\n\r\n        videoLoadSuccess() {\r\n            this.videoLoaded = true;\r\n            this.spinnerContainer.classList.add('hidden');\r\n            this.videoContainer.style.display = 'block';\r\n        }\r\n\r\n        videoLoadError() {\r\n            this.selectVideo();\r\n        }\r\n\r\n        throttleScroll() {\r\n            if (!this.scrolling) {\r\n                this.scrolling = true;\r\n                window.requestAnimationFrame(() => {\r\n                    this.handleScroll();\r\n                    this.scrolling = false;\r\n                });\r\n            }\r\n        }\r\n\r\n        handleScroll() {\r\n            if (window.scrollY > this.scrollThreshold) {\r\n                this.navbar.classList.add(\"scrolled\");\r\n                this.navBtn.classList.replace(\"btn-light\",\"btn-dark\")\r\n              } else {\r\n                this.navbar.classList.remove(\"scrolled\");\r\n                this.navBtn.classList.replace(\"btn-dark\",\"btn-light\")\r\n            }\r\n        }\r\n\r\n        createIntersectionObserver() {\r\n            const observer = new IntersectionObserver(this.animateElement.bind(this), { threshold: 0.1 });\r\n            const elementsToAnimate = document.querySelectorAll('.target');\r\n\r\n            elementsToAnimate.forEach((element) => {\r\n                let delay = 0;\r\n                if (element.classList.contains('box1')) {\r\n                    delay = 0;\r\n                } else if (element.classList.contains('box2')) {\r\n                    delay = 1000; \r\n                } else if (element.classList.contains('box3')) {\r\n                    delay = 1000;\r\n                } else if (element.classList.contains('box4')) {\r\n                    delay = 1000; \r\n                }\r\n\r\n                element.setAttribute('data-delay', delay);\r\n                observer.observe(element);\r\n            });\r\n        }\r\n\r\n        animateElement(entries, observer) {\r\n            entries.forEach((entry) => {\r\n                if (entry.isIntersecting) {\r\n                    const delay = parseInt(entry.target.getAttribute('data-delay')) || 0;\r\n                    setTimeout(() => {\r\n                        const animationClass = entry.target.getAttribute('data-class');\r\n                        entry.target.classList.add(animationClass);\r\n                        observer.unobserve(entry.target);\r\n                        this.box2.classList.add('box2__fadeImg');\r\n                    }, delay);\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        initIntroAnimation() {\r\n            const timeline = gsap.timeline();\r\n            timeline.to(\".header\", { duration: 2.5, x: 0, opacity: 1, ease: \"power2.out\" }, \"-=0.4\")\r\n                .to(\".header__spans\", { duration: 1, x: 0, opacity: 1, ease: \"power2.out\" }, \"-=0.4\")\r\n                .to(\".header__title\", { duration: 1.1, x: 0, opacity: 1, ease: \"power2.out\" }, \"-=0.4\")\r\n                .to(\".header__buttons\", { duration: 1.1, x: 0, opacity: 1, ease: \"power2.out\" }, \"-=0.4\")\r\n                .to(\".header__paragraph\", { duration: 1.2, x: 0, opacity: 1, ease: \"power2.out\" }, \"-=0.4\");\r\n        }\r\n\r\n        initFeatureBoxVideo() {\r\n            const page2Trigger = document.querySelector('.box1');\r\n            this.featureBoxVideoContainer = document.getElementById('feature-box');\r\n            const videoSource = this.featureBoxVideoContainer.querySelector('source');\r\n            let isVideoLoaded = false;\r\n            this.isFirstTime = true;\r\n        \r\n            const loadVideo = () => {\r\n                if (!videoSource.src) {\r\n                    videoSource.src = videoSource.dataset.src;\r\n                    this.featureBoxVideoContainer.load();\r\n                    isVideoLoaded = true;\r\n                }\r\n            };\r\n        \r\n            const debounce = (func, delay) => {\r\n                let inDebounce;\r\n                return function () {\r\n                    clearTimeout(inDebounce);\r\n                    inDebounce = setTimeout(() => func.apply(this, arguments), delay);\r\n                };\r\n            };\r\n        \r\n            const handleVideoPlayback = (entries) => {\r\n                entries.forEach(entry => {\r\n                    if (entry.isIntersecting) {\r\n                        loadVideo();\r\n                        if (this.isFirstTime && !this.isMobileDevice()) {\r\n                            this.debouncePlayVideo();\r\n                            this.isFirstTime = false;\r\n                        } else if (this.isMobileDevice()) {\r\n                            this.featureBoxVideoContainer.play();\r\n                        }\r\n                    } else {\r\n                        this.featureBoxVideoContainer.pause();\r\n                    }\r\n                });\r\n            };\r\n        \r\n            const observer = new IntersectionObserver(handleVideoPlayback, { threshold: 0.5 });\r\n            observer.observe(page2Trigger);\r\n        \r\n            if (!this.isMobileDevice()) {\r\n                page2Trigger.addEventListener('mouseover', debounce(() => {\r\n                    this.featureBoxVideoContainer.play();\r\n                }, 100));\r\n                page2Trigger.addEventListener('mouseleave', debounce(() => {\r\n                    this.featureBoxVideoContainer.pause();\r\n                }, 100));\r\n            } else {\r\n                this.featureBoxVideoContainer.loop = true;\r\n                observer.observe(this.featureBoxVideoContainer);\r\n            }\r\n        }\r\n        \r\n        isMobileDevice() {\r\n            return /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\r\n        }\r\n        \r\n        debouncePlayVideo() {\r\n            setTimeout(() => {\r\n                this.featureBoxVideoContainer.play();\r\n                setTimeout(() => {\r\n                    this.featureBoxVideoContainer.pause();\r\n                }, this.featureBoxVideoContainer.duration / 2 * 1000); // Pause at half the duration\r\n            }, 500);\r\n        }\r\n        \r\n        debouncePauseVideo() {\r\n            setTimeout(() => {\r\n                this.featureBoxVideoContainer.pause();\r\n            }, 500);\r\n        }\r\n        \r\n    }\r\n\r\n    new PageHandler();\r\n});\r\n"],"names":[],"version":3,"file":"index.bae57984.js.map","sourceRoot":"/__parcel_source_root/"}
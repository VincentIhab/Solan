{"version":3,"sources":["js/dom.js"],"names":["document","addEventListener","isScrolling","spinnerContainer","getElementById","videoContainer","imageContainer","backgroundVideo","navigationButton","querySelector","navbar","newParent","videoLoaded","currentVideo","mobileVideo","desktopVideo","handleScroll","window","scrollY","classList","add","remove","scrolling","videoLoadSuccess","style","display","videoLoadError","e","console","error","selectVideo","innerWidth","src","insertBefore","firstChild","onloadeddata","onerror","setTimeout","warn","clearTimeout","requestAnimationFrame","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","target","unobserve","threshold","querySelectorAll","observe","checkbox","overlay","createElement","checked","body","appendChild","contains","once","timeline","gsap","to","duration","x","opacity","ease"],"mappings":"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","file":"dom.51c1aca0.js","sourceRoot":"..\\src","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\r\n    const spinnerContainer = document.getElementById('spinner-container');\r\n    const videoContainer = document.getElementById('video-container');\r\n    const imageContainer = document.getElementById('image-container');\r\n    const backgroundVideo = document.getElementById('background-video');\r\n    const navigationButton = document.querySelector('.navigation__button');\r\n    const navbar = document.getElementById(\"navbar\");\r\n    const newParent = document.getElementById('header_contianer');\r\n    const scrollThreshold = 100; // The scroll level to trigger the background change\r\n\r\n    let videoLoaded = false;\r\n    let currentVideo = '';\r\n\r\n    // Preload videos\r\n    const mobileVideo = document.getElementById('mobile-video');\r\n    const desktopVideo = document.getElementById('desktop-video');\r\n\r\n    // Handle scroll changes for the navbar\r\n    const handleScroll = () => {\r\n        if (window.scrollY > scrollThreshold) {\r\n            navbar.classList.add(\"scrolled\");\r\n            navigationButton.classList.add('btn-darkin');\r\n        } else {\r\n            navbar.classList.remove(\"scrolled\");\r\n            navigationButton.classList.remove('btn-darkin');\r\n        }\r\n    };\r\n\r\n    const handleScrollOptimized = () => {\r\n        if (!scrolling) {\r\n            scrolling = true;\r\n            window.requestAnimationFrame(() => {\r\n                handleScroll();\r\n                scrolling = false;\r\n            });\r\n        }\r\n    };\r\n\r\n    let scrolling = false;\r\n\r\n    // Video load success function\r\n    const videoLoadSuccess = () => {\r\n        videoLoaded = true;\r\n        spinnerContainer.classList.add('hidden');\r\n        videoContainer.style.display = 'block';\r\n        imageContainer.style.display = 'none';\r\n        handleScroll();\r\n    };\r\n\r\n    // Video load error function\r\n    const videoLoadError = (e) => {\r\n        console.error('Video failed to load', e);\r\n        spinnerContainer.classList.add('hidden');\r\n        videoContainer.style.display = 'none';\r\n        imageContainer.style.display = 'block';\r\n        handleScroll();\r\n    };\r\n\r\n    // Select and load the appropriate video based on screen size\r\n    const selectVideo = () => {\r\n        if (window.innerWidth <= 768 && currentVideo !== 'mobile') {\r\n            backgroundVideo.src = mobileVideo.querySelector('source').src;\r\n            videoContainer.classList.remove('bg-video--desktop');\r\n            backgroundVideo.classList.remove('bg-video--desktop__content_desk');\r\n            videoContainer.classList.add('bg-video--mobile');\r\n            backgroundVideo.classList.add('bg-video--mobile__content_mobile');\r\n            currentVideo = 'mobile';\r\n        } else if (window.innerWidth > 768 && currentVideo !== 'desktop') {\r\n            backgroundVideo.src = desktopVideo.querySelector('source').src;\r\n            videoContainer.classList.remove('bg-video--mobile');\r\n            backgroundVideo.classList.remove('bg-video--mobile__content_mobile');\r\n            videoContainer.classList.add('bg-video--desktop');\r\n            backgroundVideo.classList.add('bg-video--desktop__content_desk');\r\n            newParent.insertBefore(videoContainer, newParent.firstChild);\r\n            currentVideo = 'desktop';\r\n        }\r\n\r\n        backgroundVideo.onloadeddata = videoLoadSuccess;\r\n        backgroundVideo.onerror = videoLoadError;\r\n    };\r\n\r\n    // Timeout to handle video load failure\r\n    setTimeout(() => {\r\n        if (!videoLoaded) {\r\n            console.warn('Video load timeout reached');\r\n            spinnerContainer.classList.add('hidden');\r\n            videoContainer.style.display = 'none';\r\n            imageContainer.style.display = 'block';\r\n            handleScroll();\r\n        }\r\n    }, 12000); // 12 seconds timeout\r\n\r\n    selectVideo();\r\n\r\n    // Listen for window resize events to change the video\r\n    window.addEventListener('resize', selectVideo);\r\n\r\n    // Throttle the scroll event listener\r\n    let isScrolling;\r\n    window.addEventListener(\"scroll\", () => {\r\n        window.clearTimeout(isScrolling);\r\n        isScrolling = setTimeout(() => {\r\n            handleScrollOptimized();\r\n        }, 100);\r\n    });\r\n\r\n    // Create an IntersectionObserver for animations to avoid some errors\r\n    function animateElement(entries, observer) {\r\n        entries.forEach((entry) => {\r\n            if (entry.isIntersecting) {\r\n                entry.target.classList.add(\"animate\");\r\n                observer.unobserve(entry.target); // Stop observing after adding the class\r\n            }\r\n        });\r\n    }\r\n\r\n    const observer = new IntersectionObserver(animateElement, {\r\n        threshold: 0.1, // Adjust as needed\r\n    });\r\n\r\n    document.querySelectorAll(\".target\").forEach((e) => {\r\n        observer.observe(e);\r\n    });\r\n\r\n    // Overlay for phone nav\r\n    const checkbox = document.getElementById('navi-toggle');\r\n    const overlay = document.createElement('div');\r\n    overlay.classList.add('overlay');\r\n\r\n    checkbox.addEventListener('change', () => {\r\n        if (checkbox.checked) {\r\n            document.body.appendChild(overlay);\r\n            setTimeout(() => overlay.classList.add('show'), 10);\r\n        } else {\r\n            overlay.classList.remove('show');\r\n            overlay.addEventListener('transitionend', () => {\r\n                if (!overlay.classList.contains('show')) {\r\n                    overlay.remove();\r\n                }\r\n            }, { once: true });\r\n        }\r\n    });\r\n\r\n    overlay.addEventListener('click', () => {\r\n        checkbox.checked = false;\r\n        overlay.classList.remove('show');\r\n        overlay.addEventListener('transitionend', () => {\r\n            if (!overlay.classList.contains('show')) {\r\n                overlay.remove();\r\n            }\r\n        }, { once: true });\r\n    });\r\n\r\n    // Intro animation\r\n    const timeline = gsap.timeline();\r\n    timeline.to(\".header\", {\r\n        duration: 2.5,\r\n        x: 0,\r\n        opacity: 1,\r\n        ease: \"power2.out\",\r\n    }, \"-=0.4\");\r\n\r\n    timeline.to(\".header__spans\", {\r\n        duration: 1,\r\n        x: 0,\r\n        opacity: 1,\r\n        ease: \"power2.out\",\r\n    }, \"-=0.4\");\r\n\r\n    timeline.to(\".header__title\", {\r\n        duration: 1.1,\r\n        x: 0,\r\n        opacity: 1,\r\n        ease: \"power2.out\",\r\n    }, \"-=0.4\");\r\n\r\n    timeline.to(\".header__buttons\", {\r\n        duration: 1.1,\r\n        x: 0,\r\n        opacity: 1,\r\n        ease: \"power2.out\",\r\n    }, \"-=0.4\");\r\n\r\n    timeline.to(\".header__paragraph\", {\r\n        duration: 1.2,\r\n        x: 0,\r\n        opacity: 1,\r\n        ease: \"power2.out\",\r\n    }, \"-=0.4\");\r\n});\r\n"]}
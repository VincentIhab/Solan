document.addEventListener("DOMContentLoaded",function(){new class{constructor(){this.loadingBar=document.getElementById("loading-bar"),this.spinnerContainer=document.getElementById("spinner-container"),this.videoContainer=document.getElementById("video-container"),this.backgroundVideo=document.getElementById("background-video"),this.navVideo=document.getElementById("navVideo"),this.navigationButton=document.querySelector(".navigation__button"),this.navbar=document.getElementById("navbar"),this.newParent=document.getElementById("header_container"),this.oldParent=document.getElementById("header"),this.box2=document.querySelector(".box2"),this.scrollThreshold=100,this.mobileVideoSrc="mobile-Land-video.mp4",this.desktopVideoSrc="video.mp4",this.navVideoSrc="nav-cam.mp4",this.currentVideo="",this.videoLoaded=!1,this.scrolling=!1,this.isFirstTime=!0,this.init()}init(){this.startLoadingBar(),this.selectVideo(),this.navVideo.src=this.navVideoSrc,this.navVideo.type="video/mp4",window.addEventListener("resize",this.selectVideo.bind(this)),window.addEventListener("scroll",this.throttleScroll.bind(this)),this.createIntersectionObserver(),this.initOverlay(),this.initIntroAnimation(),this.initFeatureBoxVideo()}startLoadingBar(){let e=setInterval(()=>{let t=document.images,o=0;for(let e=0;e<t.length;e++)t[e].complete&&o++;let i=Math.floor(o/t.length*100);this.loadingBar.style.width=i+"%",this.loadingBar.style.backgroundColor=`rgb(${255-2.55*i}, ${255-2.55*i}, ${255-2.55*i})`,100===i&&(clearInterval(e),this.loadingBar.style.width="100%",this.loadingBar.style.backgroundColor="black")},100)}selectVideo(){let e=this.backgroundVideo;e.muted=!0,e.playsinline=!0,window.innerWidth<=768&&"mobile"!==this.currentVideo?(e.src=this.mobileVideoSrc,e.type="video/mp4",this.videoContainer.classList.remove("bg-video--desktop"),e.classList.remove("bg-video--desktop__content_desk"),this.videoContainer.classList.add("bg-video--mobile"),e.classList.add("bg-video--mobile__content_mobile"),e.loop=!1,this.oldParent.insertBefore(this.videoContainer,this.oldParent.firstChild),this.currentVideo="mobile"):window.innerWidth>768&&"desktop"!==this.currentVideo&&(e.src=this.desktopVideoSrc,e.type="video/mp4",this.videoContainer.classList.remove("bg-video--mobile"),e.classList.remove("bg-video--mobile__content_mobile"),this.videoContainer.classList.add("bg-video--desktop"),e.classList.add("bg-video--desktop__content_desk"),this.newParent.insertBefore(this.videoContainer,this.newParent.firstChild),this.currentVideo="desktop"),e.onloadeddata=this.videoLoadSuccess.bind(this),e.onerror=this.videoLoadError.bind(this)}videoLoadSuccess(){this.videoLoaded=!0,this.spinnerContainer.classList.add("hidden"),this.videoContainer.style.display="block"}videoLoadError(){this.selectVideo()}throttleScroll(){this.scrolling||(this.scrolling=!0,window.requestAnimationFrame(()=>{this.handleScroll(),this.scrolling=!1}))}handleScroll(){window.scrollY>this.scrollThreshold?this.navbar.classList.add("scrolled"):this.navbar.classList.remove("scrolled")}createIntersectionObserver(){let e=new IntersectionObserver(this.animateElement.bind(this),{threshold:.1});document.querySelectorAll(".target").forEach(t=>{let o=0;t.classList.contains("box1")?o=0:t.classList.contains("box2")?o=1e3:t.classList.contains("box3")?o=1e3:t.classList.contains("box4")&&(o=1e3),t.setAttribute("data-delay",o),e.observe(t)})}animateElement(e,t){e.forEach(e=>{e.isIntersecting&&setTimeout(()=>{let o=e.target.getAttribute("data-class");e.target.classList.add(o),t.unobserve(e.target),this.box2.classList.add("box2__fadeImg")},parseInt(e.target.getAttribute("data-delay"))||0)})}initOverlay(){let e=document.getElementById("navi-toggle"),t=document.createElement("div");t.classList.add("overlay"),e.addEventListener("change",()=>{e.checked?(document.body.appendChild(t),setTimeout(()=>t.classList.add("show"),10)):(t.classList.remove("show"),t.addEventListener("transitionend",()=>{t.classList.contains("show")||t.remove()},{once:!0}))}),t.addEventListener("click",()=>{e.checked=!1,t.classList.remove("show"),t.addEventListener("transitionend",()=>{t.classList.contains("show")||t.remove()},{once:!0})})}initIntroAnimation(){gsap.timeline().to(".header",{duration:2.5,x:0,opacity:1,ease:"power2.out"},"-=0.4").to(".header__spans",{duration:1,x:0,opacity:1,ease:"power2.out"},"-=0.4").to(".header__title",{duration:1.1,x:0,opacity:1,ease:"power2.out"},"-=0.4").to(".header__buttons",{duration:1.1,x:0,opacity:1,ease:"power2.out"},"-=0.4").to(".header__paragraph",{duration:1.2,x:0,opacity:1,ease:"power2.out"},"-=0.4")}initFeatureBoxVideo(){let e=document.querySelector(".box1");this.featureBoxVideoContainer=document.getElementById("feature-box");let t=this.featureBoxVideoContainer.querySelector("source");this.isFirstTime=!0;let o=()=>{t.src||(t.src=t.dataset.src,this.featureBoxVideoContainer.load())},i=(e,t)=>{let o;return function(){clearTimeout(o),o=setTimeout(()=>e.apply(this,arguments),t)}},s=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?(o(),this.isFirstTime&&!this.isMobileDevice()?(this.debouncePlayVideo(),this.isFirstTime=!1):this.isMobileDevice()&&this.featureBoxVideoContainer.play()):this.featureBoxVideoContainer.pause()})},{threshold:.5});s.observe(e),this.isMobileDevice()?(this.featureBoxVideoContainer.loop=!0,s.observe(this.featureBoxVideoContainer)):(e.addEventListener("mouseover",i(()=>{this.featureBoxVideoContainer.play()},100)),e.addEventListener("mouseleave",i(()=>{this.featureBoxVideoContainer.pause()},100)))}isMobileDevice(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)}debouncePlayVideo(){setTimeout(()=>{this.featureBoxVideoContainer.play(),setTimeout(()=>{this.featureBoxVideoContainer.pause()},this.featureBoxVideoContainer.duration/2*1e3)},500)}debouncePauseVideo(){setTimeout(()=>{this.featureBoxVideoContainer.pause()},500)}}}),document.addEventListener("DOMContentLoaded",function(){let e=new ScrollMagic.Controller,t=gsap.fromTo("#work-process",{opacity:0,y:50},{duration:.5,scale:1,opacity:1,y:0,ease:"sine.out"}),o=gsap.to("#work-process",{duration:.2,opacity:0,y:-50,ease:"sine.out"});new ScrollMagic.Scene({triggerElement:"#work-process",triggerHook:.11}).setTween(t).addTo(e),new ScrollMagic.Scene({triggerElement:"#work-process",triggerHook:.7,offset:document.querySelector("#work-process").offsetHeight}).setTween(o).addTo(e);let i=document.querySelectorAll(".st1, .st2, .st3, .st4, .work-process__title_con"),s=document.getElementById("work-process"),r=document.querySelector(".work-process__background"),n=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting?(e.target.classList.contains("work-process__title_con")?s.style.backgroundColor="#F7F7F7":e.target.classList.contains("st1")?(s.style.backgroundColor="#000",s.style.color="#E2E5E4"):e.target.classList.contains("st2")?(s.style.backgroundColor="#183D3D",s.style.color="#E2E5E4",r.style.opacity="0",r.style.display="none"):e.target.classList.contains("st3")?(s.style.backgroundColor="#ffffff",s.style.color="#000"):e.target.classList.contains("st4")&&(s.style.backgroundColor="#ffffff",s.style.color="#000",r.style.display="block",setTimeout(()=>{r.style.opacity="1"},100)),e.target.style.opacity="1"):e.target.style.opacity="0"})},{root:null,threshold:.3});i.forEach(e=>{n.observe(e)});let a=document.querySelectorAll(".line"),d=()=>{let e=window.innerHeight;a.forEach(t=>{let o=t.getBoundingClientRect(),i=t.dataset.colorStart,s=t.dataset.colorEnd;if(o.top<=e&&o.bottom>=0){let r=Math.min(e-o.top,1584);t.style.height=`${.5*r/1584*1584}px`,t.style.backgroundColor=l(i,s,r/1584)}else t.style.height="0",t.style.backgroundColor=i})},l=(e,t,o)=>{let i=e.slice(1).match(/.{2}/g).map((e,i)=>Math.round(parseInt(e,16)*(1-o)+parseInt(t.slice(1).match(/.{2}/g)[i],16)*o).toString(16).padStart(2,"0")).join("");return`#${i}`};window.addEventListener("scroll",d),window.addEventListener("resize",d),d(),document.querySelectorAll(".st1, .st2, .st3, .st4").forEach(function(t){let o=t.querySelectorAll(".work-process__decription--left"),i=t.querySelectorAll(".work-process__decription--right");if(0===o.length||0===i.length){console.warn("No left or right p elements found in the section.");return}o.forEach((o,s)=>{let r=i[s];if(r){let i=gsap.fromTo(o,{opacity:0,x:-100},{opacity:1,x:0,duration:.5}),s=gsap.to(o,{opacity:0,x:-100,duration:.5}),n=gsap.fromTo(r,{opacity:0,x:100},{opacity:1,x:0,duration:.5}),a=gsap.to(r,{opacity:0,x:100,duration:.5});new ScrollMagic.Scene({triggerElement:t,triggerHook:.5,duration:t.offsetHeight}).setTween(i).on("enter",()=>{a.play()}).on("leave",()=>{s.play()}).addTo(e),new ScrollMagic.Scene({triggerElement:t,triggerHook:.5,duration:t.offsetHeight}).setTween(n).on("enter",()=>{s.play()}).on("leave",()=>{a.play()}).addTo(e)}})})});const e=document.getElementById("multiStepForm"),t=e.querySelector(".next"),o=e.querySelector(".back"),i=document.querySelectorAll(".progress-bar__step"),s=document.querySelectorAll(".form-step");let r=0;const n=e=>{s.forEach((t,o)=>{t.classList.remove("form-step--active"),o===e&&t.classList.add("form-step--active")}),i.forEach((t,o)=>{t.classList.remove("progress-bar__step--active"),o<=e&&t.classList.add("progress-bar__step--active")})},a=e=>{let t=s[e].querySelectorAll("input[required]"),o=!0;return t.forEach(e=>{e.value?e.classList.remove("error"):(e.classList.add("error"),o=!1)}),o},d=e=>{gsap.to(s[r],{duration:.5,x:"next"===e?"-100%":"100%",opacity:0,onComplete:()=>{n(r+="next"===e?1:-1),gsap.fromTo(s[r],{x:"next"===e?"100%":"-100%",opacity:0},{duration:.5,x:"0%",opacity:1})}})};t.addEventListener("click",()=>{a(r)&&d("next")}),o.addEventListener("click",()=>{d("back")}),e.addEventListener("submit",e=>{e.preventDefault(),a(r)&&alert("Form submitted!")}),n(r);
//# sourceMappingURL=index.8f17e949.js.map
